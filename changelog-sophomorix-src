# $Id$

============SOPHOMORIX2 CHANGELOG ====================================
2.0.4-1 (2008-12-xx)
    - added *.mediawiki export when doing
      sophomorix-print --classlist --caller user
    - changed using smb.conf.template according to linbo|rembo|tivoli
    - show computer accounts with: sophomorix-user -i
    
2.0.3-1 (2008-11-19)
    - sophomorix-kill
       - added option --skiplock
       - runs now on a blank system
    - Bugfix: user must be made usable (status U), when 
              it reappears in schueler.txt
    - Bugfix: sophomorix-check, ... calls other sophomorix-scripts 
              with option --skiplock.
              The called script has to skip 'creating a lockfile', 
              because it would overwrite the lock of sophomorix-check, ...
    - Added replacement lines in schueler.txt for atlantis
    - added filter script atlantis-csv-filter
      Documentation included in the script itself:
         /usr/share/sophomorix/filter/atlantis-csv-filter
       - moves firstnames that end with '.' to last name
    - updated man page of sophomorix-check
    - sophomorix-check:
       - added option --filter-only
       - do not continue if filter script returns error(!=0)

2.0.2-2 (2008-07-22)
    - sophomorix-passwd -u user --interactive:
      Bugfix: restart nscd 
    - slapd.conf:
      - added misc.schema to slapd.conf
      - added TLS stuff for encrypted access (Thomas Schmitt)
        apply them only when /etc/ssl/private/server.pem exists
      - added include for custom slapd stuff, make sure the file exists:
        /etc/ldap/slapd.conf.custom
    - sophomorix-user: 
         added option --user to search for a login name
         changed 'exit' to 'log_script_exit'
    - sophomorix-passwd: changed manpage
    - sophomorix-setup-pgldap: removed copying/patching of postgresql.conf
      when it doesn't exits (avoids warning on package upgrade) 
    - added sophomorix-setup-pgldap --testports to help

2.0.1-1 (2008-07-09)
    - sophomorix-sync-check: dont stop/start nscd
    - sophomorix-setup-pgldap:
      - added option --testports to show which version of postgres 
        is running on which port
      - run without nscd shutdown/restart when option is --help
    - added manpage for sophomorix-dump-pg2ldap
    - added manpage for sophomorix-sync-check
    - Bugfixes: sophomorix-print --one-per-page
    - Bugfix: added correct exits (restart nscd) to sophomorix-teacher
    - dist-upgrade on etch
      (move ldap database from postgres 7.4 to postgres 8.1)
    - Bugfix: create directory /home/teachers/$USER/_eingesammelt/einsammeln*
              with permissions from repairhome.teachers

1.9.36-1 (2008-05-xx)
    - show error numbers on console when not found in errors.lang
    - authentification on cyrus: 
      when authentification not possible, exit in a nice way(error 43), 
      showing hint that /etc/imap.secret might be wrong
    - sophomorix-project:
      - added option --admininfo (show users and their projects)
      - Bugfix: changed formatting of --info --tree to be more compact
    - added option --help to sophomorix-test
    - dont run sophomorix-test, when calling it with wron option 
    - finished Michael Salm's report to help and man pages

1.9.35-1 (2008-05-06)
    - removed www stuff (security issues)
      - added variable to switch it on/off: 
        $www_create in sophomorix-devel.conf
        see there to switch it on again
      - removed private_html in $HOME
      - removed private_html in sophomorix-repair --repairhome
      - removed creation of /var/www/people/students/$user
      - removed creation of /var/www/people/teachers/$user
      - removed creation of /var/www/classes|projects
      - removed reairig the above stuff with
         sophomorix-repair --htaccess
      - removed stuff from sophomorix-setup-pgldap
    - checked that the following scripts exit log and restart nscd:
        - sophomorix-kill (nothing to do)
        - sophomorix-quota (nothing to do)
        - sophomorix-project
        - sophomorix-groupadd
        - sophomorix-useradd
    - sophomorix-vampire: 
       - updated manpage
       - changed --sync-dirs so that rsync follows symlinks (files and directories)
    - updated the following scripts help/ scripts manpages(de) so that the 
      say the same (Thanks to Michael Salm to compare manpages and help 
      output):
       - sophomorix-check
       - sophomorix-groupadd
       - sophomorix-print
       - sophomorix-project
       - sophomorix-quota
       - sophomorix-subclass
       - sophomorix-teach-in
       - sophomorix-teacher
    - allow '.' in Surnames (i.e. Raja S.V.). Replace them with nothing.
    - removed DEBCONF from /etc/libnss-ldap.conf to avoid configuration
      with debconf (sophomorix configures this file)
    - Bugfix: exit scrits with correct return value
              (applies only for the example from 1.9.34)
    - sophomorix-kill: 
       - avoid warning when using next instead of return
       - Bugfix: /var/www/people/students|teachers/user is now deleted, 
                 when user is in the attic

1.9.34-1 (2008-01-07)
    - changed log_script_exit funcion to uses errors.lang
       - call it the new way once as example
    - sophomorix-mail:
       - sophomorix-user -s string shows ingo.script
       - exit correctly (start nscd) when using options
       - added option --showredirect/--showforward
         to show contents of .forward and ingo.script
       - added option --showallredirect/--showallforward
         to show students as well
       -updated manpage
    - added and documented function fetch_error_string
      to fetch error strings at a given return value
    - Exit correctly when using sophomorix-print --netexamplix
      (i. e. restart nscd)
    - Lockfile Control:
      - steal lockfile, when locking process is not running anymore
    - Added Option --info without function and nscd restart to
            sophomorix-groupadd
            sophomorix-useradd 
    - Bugfix: when $teachers_alias_name="lehrer"; was set, then all 
              classes used this maillist name. Now fixed
    - updated manpage of sophomorix-class
    - added function nscd_flush_cache to flush the cashed data
      on a running nscd server (needed in etch)
    - renamed function stop_nscd -> nscd_stop
    - renamed function start_nscd -> nscd_start
    - combinded multiple smbldap-usermod commands to one,
      when joining/leaving an adminclass and therefore $CLASS-A, $CLASS-B, ...
    - Bugfix: not unjoining  $CLASS-A, $CLASS-B, ... when calling
              sophomorix-teacher --remove class --teacher name
    - Bugfix: Bug seen only on etch:
              when calling /etc/init.d/nscd start/stop, which calls 
              'start-stop-deamon' which is (for security reasons) not in root's
              $PATH-Variable, this fails
              Workaround: when calling /etc/init.d/nscd, the PATH is modified 
              before the command and reset after the command
    - added more files to rotate command.log 
      (logs a kept half a year (27 weeks))

1.9.33-1 (2007-11-13)
    - Bugfix: " " used as unid creates error 'unid seen twice'
    - Bugfix: Stopping nscd when using -i,-h in
              sophomorix-class
              sophomorix-groupadd
              sophomorix-mail
              sophomorix-passwd
              sophomorix-print
              sophomorix-project
              sophomorix-quota
              sophomorix-repair
              sophomorix-room
              sophomorix-subclass
              sophomorix-support
              sophomorix-teach-in
              sophomorix-user
              sophomorix-useradd
              sophomorix-usermod
              sophomorix-www
              sophomorix-teacher
    - Bugfix: creating all directories for printfiles when using
              sophomorix-print --netexamplix

1.9.32-1 (2007-10-24)
    - dont replace \ with \textbackslash in latex-password-printouts
      when \ starts a command (and is NOT part of the password)
    - # 309: extended allowed names for the group of teachers in lehrer.txt: 
        - lehrer,Lehrer,Teacher,Teachers,teacher,teachers
    - added to allowed login-names: .-_ (in extraschueler.txt)
    - # 274: added dump-pg2ldap to sophomorix-setup-pgldap --new-databse
      to have administrators enabled [UX]
    - updated manpage of 
         sophomorix-passwd
         sophomorix-usermod
    - sophomorix-passwd:
      added option --samba-pwd-must-change/nosamba-pwd-must-change 
      to change sambaPwdMustChange value
    - Bugfix: avoid linefeed characters to be listed in forbidden_logins
              (introduced in 1.9.32)
    - made auth_useradd compatible with etch
      (using smbldap-useradd -c comment ... does not update description in etch
       solution: use smbldap-usermod -c comment ... afterwards)
    - added nscd start/stop to:
      log_script_start, log_script_exit and log_script_end
    - added stop_nscd after every call to a sophomorix-script  
    - corrected nscd start/stop commands, which didn't do what they should
    - added sub deb_system to run scripts only in certain debian versions
    - Bugfix: do not use windows linefeed in schueler.txt 
              as unid (do not interrupt sophomorix-check (unid seen twice))

1.9.31-1 (2007-10-14)
    - sophomorix-useradd --unixadmin ...
      adds a user with a sambaaccount and disables the account
      adds the group as a local samba group
    - added postinst 1.9.31 script to:
      - add missing entry in samba_group_mapping, 
        so that user wwwadmin shows up in correct group wwwadmin.
    - disable windows account of user wwwadmin
    - sophomorix-project --memberprojects pro1,pro2,...: 
      use prefixed (p_*) or not prefixed name as pro1,pro2,...
    - sophomorix-www -i
      show all users/groups with state of their www-dir
      show size of that dir also
    - sophomorix-project:
        - manage only joinable=TRUE projects WITHOUT --caller login
          (works as before, but not for joinable=FALSE projects)
        - for joinable=FALSE projects the option --caller must be given
          and the caller must be an administrator to modify the userlist
        - to set a project to joinable=TRUE, --caller must be given
    - when sophomorix is locked: try 5 times with one second delay 
      if sophomorix.lock is still there
    - function added to read the /etc/debian_version file
    - added manpage of sophomorix-usermod
    - added sophomorix-usermod script to:
         -J / --enable user
         -I / --disable user
    - added exit command to sub log_script_end
      so it can be used to end a script regularly without running 
      the remaining code
    - show grouptype (i. e. adminclass/hiddenclass) using
      sophomorix-user -s searchstring
    - added disconnects (imap,db) to *-kill, *-quota, *-add
    - Bugfix: changing a users unid (identifier remains the same)
              needed only one run of sophomorix-check 
              (With Bug it needed two runs)
    - exit sophomorix-check when unid in schueler.txt is seen twice
    - united functions pg_adduser and adduser_to_project
      pg_adduser is not needed anymore
    - Bugfix: removing entry of a group in table class_details
              (was not done until now)
    - added manpage for sophomorix-groupdel
    - sophomorix-groupdel:
      - added option --class name to:
        delete adminclasses/hiddenclasses without users 
      - added option --nobackup
        added option --delete-all-empty-classes
    - sophomorix-passwd:
      - added option to change shell
      - added option --config to use sophomorix.conf
        (was default up to now)
      - updated manpage


1.9.30-1 (2007-09-30)
    - updated manpage sophomorix to reflect new path to
      CVS and packages.bszleo.de 
    - Added cvs keywords to all manpages, so that Date is visible 
      on the bottom of the page.
    - Bugfix: add a class as membergroup to a project correctly
              (Bug was introduced in 1.9.29)
    - Bugfix: avoid uninitialized value, when calling 
              sophomorix-project -i -p name
              and userlist is longer than project attributes
 

1.9.29-1 (2007-09-25)
    - looked through the code and added  'hiddenclass'
      where necessary
    - removed function pg_get_adminclasses (unused)
    - use additional recipients from sophomorix.conf
      for the maillist of teachers,
    - Bugfix: dont run --nohide when option --hide/--nohide is missing
              (Bug introduced in 1.9.29)
    - sophomorix-www: added for logging purposes the option 
         --caller name
      to be used in the schulkonsole 
    - formatted sophomorix-project -p name -i nicely and compact
    - fixed manpage of sophomorix-vampire after Multi-Tagung
    - fixed some Bugs in sophomorix-vampire after Multi-Tagung
    - removed analyze stuff from cron.weekly
    - added the file changelog-sophomorix-src to package sophomorix2
      as /usr/share/doc/sophomorix2/changelog-sophomorix-src.gz
    - splitted changelog-sophomorix-src into:
           A) changelog-sophomorix-src  (the changelog)
           B) todo-sophomorix-src       (the todo and other stuff)
    - sophomorix-useradd --unixadmin login --unix-group group 
      adding the group of this user as as type 'hiddenclass'
    - avoid joining a 'hiddenclass' with 
      sophomorix-teacher -add class --teacher name
    - added option --hide/--nohide to sophomorix-class
      and updated manpage of sophomorix-class
    - show hiddenclass/adminclass 
      in sophomorix-teacher --showclasses
    - Bugfix: print #,&,%,{,},\ nicely without interuption using latex
              (\ must be set using \\ on the command line)
    - Bugfix: added help to sophomorix-dump-pg2ldap
              (made -h and -i NOT run the script)
    - fixed typo in sophomorix-check --help
    - avoid exiting sophomorix-www with missing function
      log_script_exit
    - sophomorix-class -i:
      show classes with type adminclass/hiddenclass with H=0 or H=1
    - added an option to fetchadminclasses ("showhidden")
      to select also hidden classes
    - added script and manpage:
       sophomorix-imp-expand-fromaddress


1.9.28-1 (2007-09-16)
    - Bugfix: Add users with correct sambapwdoption as configured 
              in sophomorix.conf
    - Bugfix: remove killed user from table members_projects
    - all scripts:
      avoid logging of the argument of option --pa,--pas .... --password
    - sophomorix-teach-in
      (avoid locking when wrong option is specified)
      all scripts: option-test BEFORE logging to command log 
                   (log is more compact) 
    - sophomorix-teach-in --info : 
        make output more compact
        show only:
          man-teach-in
          auto-teach-in
    - Bugfix: sophomorix-check:
              auto-teach-in sees to much matches:
              - marriage in completely different classes
              - narrowed matches
    - Bugfix: sophomorix-teach-in --redo login (works now)
    - Bugfix: select only students and teachers when doing
              sophomorix-print -a

1.9.27-1 (2007-09-09)
    - Bugfix: sophomorix-room --reset-room room
              resets homedirs of workstations even if they dont exist
    - Bugfix: sophomorix-repair --repairhome:
              repairing homes of administrators as well
    - removed ::immutable:: from repairhome.* 
    - Bugfix: Get along with $ in login names when calling 
              sophomorix-print
    - move users in numerical classes to 'noclass'
    - Bugfix: sophomorix-user --reset-user tycho 
      showed: unknown type teacher 
    - formatted the following commands nicely:
         sophomorix-teacher --showteachers
         sophomorix-teacher --showclasses
    - added additional value in repairhome.students
      and repairhome.teachers to add immutable bit
    - added automatic renaming of classes
      - append 'y' to numerical class names
      - make use of class.map possible
      - print to stdout and report.admin when a class should be renamed
    - added option sophomorix-print --netexamplix ...
      (for package netexemplix)
    - Bugfix: added correct path to linuxmuster-basefiles:
        smb.conf
        logon.bat
        login.bat
        common.bat
    - Bugfix: dont find computers in ou=machines
    - Bugfix: adding users with gidnumber (instead of name)
      This makes it possible to add users in a group 7 
      But it is recommended NOT to use groupnames like 7


1.9.26-1 (2007-07-21)
    - sophomorix-mail: added option --add-mailbox user1,user2,...
      to create a mailbox for an existing posix account
    - Bugfix: sophomorix-mail 
        avoid capital letters in mailaliases (of projects)
        adding vorname_nachname works now
        manpage updated
        avoid double mailalias entries (multiple entries are commented)
    - Bugfix in sophomorix-vampire: 
        gowner of class-share-directory is class (recursively)
        (this is easier than trying to figure out the old owner)
    - Bugfix(closes # 266): 
        fix SID's for admin groups
        fix delete win group 'Web Administrators'
        fix admin account SID's
    - Bugfix:
      catch warning on a one partition system when running sophomorix-quota 
    - Bugfix: user/group's uidnumber/gidnumber added with useradd/groupadd 
      are not seen by the database (manuel_get_next_free_...).
      Solution: check result of manual_bet_next_free... with
                auth system until I get a really free uidnumber/gidnumber
    - Bugfix: add/remove user in ldap to secondary group when using
      sophomorix-teacher --teacher name --add/--remove class
    -sophomorix-mail:
       - add aliases lowercase (some mailers might have a problem)
       - make name of teacher maillist configurable with
         $teachers_alias_name in sophomorix.conf.
    - sophomorix-quota:
       update quota for admnistrator,pgmadmin,wwwadmin in
       postgres, so that quota has not to be set again and again

    - sophomorix-vampire:
       Bugfix: sync dirs from linux/mail/* to cyrus as subdirs 
       Bugfix: make files owned by correct user,group after
           --sync-homes
           --sync-maildata
       added option --delete to switch on/off --delete in rsync
       added option to sync teacher share
       added option to sync program share
       added option --sync-workstations
       Bugfix: --configure-quota skip empty lines in class_db
       Bugfix: --mlscripts (remboinit.rbc's were not copied)
       Bugfix: sophomorix-check --get-info-from-old-files doesnt find 
               login and password of users in teach-in.txt

    - typos fixed in
       sophomorix-useradd
       sophomorix-quota
       sophomorix-room

1.9.25-1 (2007-06-28) (CD ML 3.0 Release)
    - user_deaktivieren/user_reaktivieren:
      update the posix-account in the userPassword field in ldap
    - sophomorix-setup-pgldap:
       - made option --slapd-standalone standard
         (i.E. sophomorix-setup-pgldap configures a standalone ldap)
       - added option --slapd-integrated
       - made script exit when debconf is locked
       - minimized typeout (warnings)
    - add user administrator in group teachers

1.9.24-1 (2007-06-26)
    - call sophomorix-dump-pg2ldap with --skiplock 
    - added option --skiplock to sophomorix-dump-pg2ldap
    - created upgrade script, that upgrades ExamAccounts and 
      Computers
    - modified sophomorix-paswd to accept domadmin as user without
      checking if it is a ml user
    - Bugfix: adding administrator with smbhomepath not defined
    - Added cvs Id Tag for to repairhome.*

1.9.23-1 (2007-06-25)
    - resolved #221, 'Claire Schlamm' without action
    - added update script to 
        - copy gecos field to description,cn,displayname
        - call sophomorix-dump-pg2ldap
    - Bugfix: updating description in samba_sam_account AND posix_account
      (posix_account shown in view userdata)
    - added test of cn and description to sophomorix-test
      (1738 Tests now)
    - Bugfix in repair.directories: $share_school root-> administrator
    - added sambaacctflags correctly ([WX]) when adding a computer
    - added updating cn and description in pg. So that the dump to ldap
      shows the same values as when adding a user the first time
    - sophomorix-dump-pg2ldap: without param, dump and load_ldif
    - givenName of ExamAccount in ldap adjusted to match dump
    - Bugfix: create user account in ldap with sn: lastname 
              (Buggy: sn: login)

1.9.22-1 (2007-06-22)
    - moved samba,slapd,postgres to Pre-Depends insted of depends,
      so that samba,slapd,postgres are fully updated when
      sophomorix starts
    - added debug info to sophmorix-passwd
    - sophomorix-groupdel: added more typeout when NOT deleting a group
    - modified pg_get_group_type to avoid error:
      SophomorixPgLdap.pm Line 2224
    - revised adding of groups the following way:
      A) unixgroup=ntgroup 
         -> use smbldap-groupadd -a ... (win+lin account)
            this adds a groupmap entry already
      B) unixgroup differs from ntgroup
         -> dont use option -a
         -> issue a 'net groupmap add ...' command 
    - sophomorix-groupadd:
      avoid warning when 'net groupmap add ...' because groupmap 
      entry exist already (because of option -a in smbldap-groupadd)

 
1.9.21-1 (2007-06-21)
    - adjusted search base in ldap searches 
    - added empty file repairhome.domcomp to avoid warning
    - exit script sophmorix-teacher, when handout from class 
      in which one is not member
    - made the following command handout with correct permissions
      (user.teachers, 755/644 for dirs/files)
    - making use of ::locked in repairhome.* to lock some dirs 
      (make them undeleteable)
    - created function make_dir_locked to create .locked veto files
    - Bugfix: sophomorix-user -s user had a hardcoded ldap suffix
              (-> did not compare with ldap)
              The same for the test scripts

1.9.20-1 (2007-06-20)
    - Bugfix: changing line 
      sambaDomainName, when patching ldif on installation
    - sophomorix-test (1627 tests now)
    - closed Bug #238 repairhome.teacher
    - made user_aktivieren/user_deakivieren updating pg 
    
    - Bugfix: sambahomepath is creted with correct hostname when 
              adding a user
              (was 'server' all the time)
    - added function to diff pg and ldap when calling
      sophomorix-user -s username
    - removed hardcoded SID from standalone.ldif.template
      (replaced it with value from debconf or net getlocalsid)
    - sophomorix-test-bunchofusers works again with workstations and
      seperate ldap
    - sophomorix-test 
      - replaced check for account flags: X is ok now
      - added checking entries in ldap 
      - added checking for identity of gid and gidnumber in pq and ldap
    - Bugfix: renaming repairhome.examaccount
    - Bugfix: avoid setting random password when using incorrect option
      -pass (instead of --pass) in sophomorix-passwd
    - updated manpage sophomorix-vampire
    - Bugfix: sophomorix-vampier doesent work with sec_oct=160
    - Bugfix: --sync-dirs did not create new dir

1.9.19-1 (2007-06-12)
    - workstation -> examaccount
    - Bugfix: fetch SID from debconf (fallback to net getlocalsid)
    - Bugfix: make all files in /var/lib/ldap owned by openldap.openldap

1.9.18-1 (2007-06-12)
    - added surname,firstname to postgres to dump MUST sn value in ldap
    - integrated scripts of T. Hoth
    - updated manpage and --help od sophomorix-useradd


1.9.17-1 (2007-06-11)
    - changing of smbworkgroup changes sambaDomainName in ldap
    - adding localgroups correctly to ldap
    - deleting net groupmap entry when deleting a group
    - changing of domainname changes basedn in ldap

1.9.16-1 (2007-06-06)
    - wwwadmin is a domain group
    - added working option --new-database to sophomorix-setup-pgldap
    - added functionality to delete a group to sophomorix-groupdel
    - changed list of fetchrooms_from_school function to lookup rooms 
      by its type 'room' (and not by the home of users to begin 
                          with /home/workstation) 
    - added deletion of room share, 
    - The following could be changed also in another release (I'm not sure anymore)
      Changed th group type of nonexisting group to 'nonexisting'
      (was 'unknown'). type 'unknown' is for groups, that exist, but a type 
      could not be defined. 


1.9.15-1 (2007-06-03)
    - added empty script sophomorix-groupdel so that workstation import can 
      call it
    - Bugfix: Adding rooms as group type room
    - Bugfix: smbpasswd command added to add computer correctly
    - added lookup in slapd for current rootdn and rootpw before 
      connecting to ldap
    - added manpages for sophmorix-useradd and sophomorix-groupadd
    - removed description of option --test from scripts help
    - removed description of option --test from manpages
    - Bugfix: gowner of class share was not class (was domadmins)


1.9.14-1 (2007-05-30)
    - added auth_adduser_to_project function
    - changed grouptype from
      manualgroup to domaingroup
    - added stuff to enable users in ldap
    - added stuff to kill users in ldap   
    - added stuff to move users in ldap   


1.9.13-1 (2007-05-17)
    - added stuff to add users to seperate ldap
    - Bugfix: added sophomorix-support.conf to package sophomorix-base
    - option slapd-standalone added to sophomorix-pgldap
    - first should work version of sophomorix-groupadd
      adds to postgres (and ldap, untested)

1.9.12-1 (2007-04-06)
  - sophpmorix-vampire:
    - make syncing of all homes with --sync-homes work
    - skipping users that have no old homedir
      (i.e. pgmadmin is missing on older servers (ML 2.0))
    - sync the following homedirs:
        admin  --> administrator
        pgmadmin --> pgmadmin (works like normal user)
        nonexistent -> domadmin (nothing to do)
        nonexistent -> wwwadmin (nothing to do)

1.9.11-1 (2007-03-27)
  - Bugfix: fixed incorrect call to fetchdata_from_account
    in sophomorix-repair (why did that work before?)
  - permissions of /home/share:
    Bug: administrator cannot enter dir
    gowner will be domadmins
  - sophomorix-vampire: updated manpage
  - Bugfix: handoutcopy assigns wrong owner to handed out files
  - sophomorix-vampire:
    split sync of homes into two parts
      1) windows and linux (--sync-homes)
      2) mail and .forward (--sync-maildata)
    --sync-mail syncs mbox-file into cyrus
  - added options to rename login of a user
    PROBLEM: mailbox cannot be renamed

1.9.10-1 (2007-03-11)
  - sophomorix-repair:
    - updated manpage and help
    - Don't throw error, when .htacces file to repair doesn't exist
    - modified typeout (option --htaccess)
    - repair also when dir above .htacces doesn't exist (create dirle)
    - options added to create a userlist with --repairhome
  - Bug fixed: common __vorlagen in /var/cache/sophomorix/tasks/rooms/$room
               was not removed when
               sophomorix-room --reset-room
               sophomorix-room --reset-all-rooms
  - Bug fixed: when collecting data as an exam from a room
               then __vorlagen/... from the teacher was not collected 
  - Bug fixed: when user is moved to nonextsting class, 
    .htacces in /var/www/classes was not created
  - Bug fixed: class share files of user mot moved into __dachboden
  - added cups-pdf and private_html to exam accounts
  - sophomorix-repair --repairhome works on teacher and students
    when no userlist is provided 
  - using 0755/0644 instead of 0755 when copyind data to a share
  - replaced chmod -R 755 with function that uses the smb.conf values
    when handoucopying data
  - added function to read in smb.conf
  - sophomorix-move: made chown og gowner not so invasive
    (change only files/dirs where oldgowner was adminclass to newgowner)
  - added function chmod_chown_dir_smb
    to chmod different for files and dirs
  - added new tests for permissions in $HOME
  - introduced account type 'attic'. An user in the attic is in the 
    account type 'attic' instaed of 'none'
    its dirs $HOME are repaired using empty repairhome.attic
  - sophomorix-check: show old status correctly when doing soomething
    with an account (function: append_move_entry called with parameter 4)
  - checked calls &setup_verzeichnis that they can go along with
    smaller repair.directories (nothing within $HOME repaired)
  - made repair_repairhome stop, when a nonexisting user is given
  - Bugfix: removed chown -R after creating an account 
            (student,workstation). Was causing trouble.
  - Bugfixes: some permisions of share dirs after first schooling 
    run at bszleo (Rainer)
  - Bugfix: rerceive mail also for project (not only p_project)
  - Bugfix #174: sophomorix-project --create -p project 
    project names with 14 characters allowed even if 
    projectname given with option -p begins with p_

1.9.9-3 (2007-02-15)
  - Bugfix in sophomorix-pgldap.postinst
    use correct oldversion, when $2 is not empty
  - sophomorix-test tests for permission created in 1.9.8
  - sizelimit -1 in slapd.conf added
  - Bugfix: adminclass-admin cannot leave adminclass, because 
            group adminclass is not found (p_ prefixed) 

1.9.8-1 (2007-02-10)
  ANNOUNCE:
  - remove option $drei_strichpunkt compltely
  - sophomorix-repair -p is run (takes time)
  DONE:
  - make sophomorix-repair log into a file when running as an upgrade
  - changed description in sophomorix-mail --showmailboxes
  - added output of cyrus mailquota with sophomorix-user -s user -v
  - typo in sophomorix-user -i removed
  - Bugfix: keep a users db quota when moving into/being in the attic
    (modify it with an entry in quota.txt/mailquota.txt)
      - updated manpage 
  - make sophomorix-quota less verbose
  - call 
      sophomorix-quota --workstations 
      when import_workstations is used (this in package linuxmuster-base)
  - Bugfix: mailquota was always set, because it was not updated 
    in the database.
  - modified output of sophomorix-move to separate users
  - sophomorix-vampire: 
     - patching ip of clients
     - patching netmask
     - patching the file onto /var/lib/rembo/files/global/wimport_data
     - ;ml; -> ;; cause import_workstations diesn't run anymore  
   when --install-files
     - tested syncing of MAC-files
     when --mlscripts
  - Bug #116 'Projekt löschen' fixed
  - Bug #115 'Projektmitglieder löschen'fixed 
  - updated manpage with info about 'rootlogin yes'  
  - Bug #134 closed: show group teachers as overfull class
  - added syncing of mac files to sophomorix-vampire --mlscripts
    untested
  - Bugfix #129 downcase loginnames in lehrer.txt
  - doing some de -> en in sophomorix-check
  - add a semicolon intelligently 
    (without using value in sophomorix.conf)
  - added support for copying remboinit.rbc's (option --mlscripts)
  - changed apt description of sophomorix-vampire


1.9.7-1 (2007-01-25)
  - fixed Bug #130 password crypted with CRYPT
  - comment added in sophomorix.conf : /bin/bash and /bin/false
  - sophomorix-vampire:
    added option --sync-shares to sync all shares
    (or a list with --class class1,class2,...)
  - sophiomorix-check
    Bugfix: marous u was not correctly transformed
            used octal dumper command:  od -b
            to find out about character
  - sophomorix-vampire
    Bugfix: using teach-in.txt correctly to find login in the old system
    added syncing of extraschueler.txt and extrakurse.txt
  - german -> english in -add, -move and -kill
  - fixed performance bug, when showing killable users
  - sophomorix-mail:
    added option --kill-mailbox to kill a mailbox without unix account
    make --showmailboxes --showtype show group ot type 
    CYRUS (only cyrus account, no unix account) 
  - Bugfix: Mailbox not killed when killing users
  - removed double query from sophomorix-kill to speed up script
  - sophomorix-add: changed formatting of -i list 
  - tested sophomorix-vampire
    - Bugfix: use loginname of old installation (lowercase, no - in name)
  - added option to sophomorix-user to mark all users to be killed

1.9.6-1 (2006-12-16)
  - fixed Bug #104 (tausch Schüler) (and #103 (merged to #104))
  - changed permissions in /etc/ldap to be like etch.
  - updated package to use slapd 2.3.29 and others from etch

1.9.5-1 (2006-12-14)
  - closed Ticked #99 configuring slapd

1.9.4-1 (2006-11-22)
  - BUGFIX: correct smb loginscripts are: login.bat and logon.bat
  - update man sophomorix-test-bunchofusers and help
  - BUGFIX: tetchusers_by_option_from_project showed only astro group
            correctly
  - basic test for projects runnig: starting-state.dump is working
  - updated manpage of sohomorix-project
  - BUGFIX: --create-from file does nothing if project doesnt exist
  - Create projects in an order so that member are created before 
    the project
  - changed sophomorix-project --update-from-file and
    --create-from-file to read better dump format
  - tag users in new table projects_members that have been added
    by option --Members (--addmembers)
  - changed sophomorix-project --dump in a better format 
     (smb.conf style, with project_name prepended)
  - checked out from CVS to an empty dir and built all packages there
    diffed the contents(filelist) to my working copy and made the lists
    equal.
    (fileliste made with
       lesspipe old/sophomorix2_1.9.3-1_all.deb | cut -d. -f2 | grep ^\/
     for all packages
    )
  - removed *-webmin, *-groupadd, *-useradd and their manpages
    from CVS. So that they are not added to sophomorix-doc-html anymore
  - added @ in Makefile to avoid noisy output/speed up things
  - sophomorix-project:
    - added options:
        --create-from-file file
          (standard file is /etc/sophomorix/project/projects.create)
          create projects if nonexisting
          do nothing with existing projects

        --update-from file file
          (standard file is /etc/sophomorix/project/projects.update)
          create projects and update them 
          (useful for admins, to keep some projects up to date (netadmins) on the 
          command line)
   - BUGFIX: add cups-pdf when adding users (not only when repairing)
   - fetched netlogon.bat and netlogin.bat from tschmitt's svn 
     and added it to sophomorix-base
   - fetched /etc/samba/smb.conf.global from tschmitt svn and added it
     to the sophomorix-setup-pgldap scripts
   - sophomorix-add, -move, -check, ..
      Options --unlock and --lock to delete/create sophomorix.lock
   - BUGFIX: log errors behind options in command.log
   - added option sophomorix-quota --cron:
      - check usage of mailquota in cyrus
      - send mail to user with quota warnings  
           use Email::Send;
      - do nothing if warn mailquota is disabled sophomorix.conf 
   - added weekly cronjob to bzip2 database dumps 
   - added weekly cronjob delete bzip2 database dumps 
   - BUGFIX: use $subclasses under /*/subclasss in repair.directories
   - BUGFIX: use $projects under /*/projects in repair.directories
   - sophomorix-kill -i (group adminclass and users asciibetically)
   - sophomorix-move -i (group adminclass and users asciibetically)
   - sophomorix-add -i (group adminclass and users asciibetically)
   - fetched new smb.conf from thomas schmitt
     replaced new @@vars@@ with values in sophomorix-devel.conf
   - move some sql path vars from sophomrix-setup-pgldap 
     to sophomorix-devel.conf
   - cron.weekly
      - call ANALYZE and log it
   - create/drop indices
     options --create-indices-only, --drop-indices-only, --update-indices-only
     Do that on package update:
        1) created a plain text file drop-index.sql with index names 
           to remove use perl,DBI, to remove these indices from the 
           database if they exist (catch errors)
        2) created a file create-index.sql to add new indices with a script 
           in one transaction
        3) call ANALIZE in the same *.sql-script
   - added logger to cron.daily/weekly/monthly in sophomorix-base
   - sophomorix-quota -i and manpage:
      - repquota -tsv /dev for a detailed list of quota


1.9.2-1 (2006-11-08)
   - added prefixes to __austeilen and _eingesammelt
        use $handoutcopy_string="austeilen-";
        before $handoutcopy_dir="__austeilen";
        use $collected_string="eingesammelt-";
        before $collected_dir="_eingesammelt";
   - smb admin stuff:
     pgmadmin only in domadmins
     added user domadmin for joining domains
     pgmadmins group removed
   - sophomorix-project
       - updated manpage
       - added option --dump
   - added file projects.create and projects.update to package
   - added options to sophomorix.conf mailquota_warn_kb

1.9.1-1 (2006-10-28)
   - changed option --user to --teacher (sophomorix-user)
     updated manpage accordingly
   - added variables in sophomorix.conf:
       email notification mailquota is almost used to the limit 
     reached (in sophomorix.conf)
   - merged database update into sophomorix.sql
   - scheduled_toleration:
     - sophomorix-check checks the scheduled_toleration and:
       - updates the database to status T
       - comments the line in lehrer.txt
     - sophomorix-check sees this sheduled_toleration date
     - sophomorix-user --user user --scheduled-toleration date sets date 
       in the database
   - dumping the ldap database before modifying it by *-add, *-move, *-kill
   - packaging files for the support
      - dumping the ldap database and packaging it
      - added options to add custom files to the *.zip
      - added DIRLIST-tag in sophomorix-support.conf to pack ls-al files
        into *.zip 
      - logging files in the tree in support.log
      - creating a tree in /root/sophomorix-support
      - added configuration file sophomorix-support.conf
      - added sophomorix-support and manpage (script does nothing)
   - sophomorix-test: use path /home/attic
   - moved homes of attic users to /home/attic
   - use attic instead of dachboden/speicher (homes are still in /home students)
   - create /home/attic with sophomorix-repair and repair.directories
   - create lehrer.txt and schueler.txt, when they are not existing
   - exit with unlocking and logging when
     slapd and postgres is not running 
   - renamed scheduled_delete to scheduled_toleration
   - show scheduled_delete and usertoken with sophomorix-user 
   - added field scheduled_delete in posix_account_details
   - modified type of posix_account_datails.usertoken to varchar
     (upgrade der Datenbank (als root): 
      1) Delete posix_account_datails.usertoken
      2) Call: 
         psql -U ldap ldap < \
         /usr/share/sophomorix/config-templates/pg/upgrade/sophomorix_1.8.13.sql

   - extended function update_user_db_entry to update usertoken
   - created function upload_db_pushdata to decect what must be uploaded
   - fetching usertoken from database
   - added option 
     sophomorix print --classlist
     created a formatted, printable list of users of a class
   - added windows, linux and other login-data
     to login-info.tex 
   - documented option --skiplock in -mail,-quota,-print
   - added function log_script_exit to unlock scripts when exited 
     unnormally. print Errors into command.log
   - added locking in the following scripts (see sophomorix-devel.conf)
     - sophomorix-check
     - sophomorix-add
     - sophomorix-move
     - sophomorix-kill
     - sophomorix-teach-in
     - sophomorix-repair
     - sophomorix-setup-pgldap
     - sophomorix-setup
     - sophomorix-quota
  - these scripts create the lock file /var/lib/sophomorix/lock/sophomorix.lock
  -  added option --skiplock for  sophomorix-add, 
                                  sophomorix-move 
                                  sophomorix-print
     used this option when calling these scripts from within other 
     sophomorix scripts

   - s*-kill,-move,-add: count users when showing --info
   - removed from sophomorix-test-bunchofusers to handoutcopy to 
     workstations in a userlist (we only handout to workstations)
   - sophomorix-mail --showmailboxes shows number of dirs of a users 
     mailbox
   - added moodle,ogo,schulkonsole,horde to
     sophomorix-print --one-per-page
   - Make sophomorix-test-bunchofusers work with Capital letters 
   - Make use of äöüÄÖÜß configurable in sophomorix-devel.conf
     (Standard: allow_umlaut="no")   
   - Bugfix: when 3rd field contains birthday, do NOT throw warning
             anymore; continue orderly
   - Bugfix: when 4th ; in lehrer.txt is missing, no error is thrown
             anymore; continue orderly
   - Bugfix: sophomorix-mail --showmailboxes 
             showed one line per Dir of user (now: one line per user)
   - Bugfix: sophomorix-taech-in: remove user from 
             sophomorix.move when teached in   
   - Bugfix: sophomorix-check: remove errors when 
             user has no exitadminclass


1.8.14-1 (2006-09-27)
   - naming conventions:
       login       without  Ä,ä,Ö,ö,Ü,ü,ß
       mail        without  Ä,ä,Ö,ö,Ü,ü,ß
       gecos       without  Ä,ä,Ö,ö,Ü,ü,ß
       firstname   with     Ä,ä,Ö,ö,Ü,ü,ß
       surname     with     Ä,ä,Ö,ö,Ü,ü,ß
   - dont allow allowed '-' in login names
   - BUGFIX: set quota when user is removed from quota.txt
     back to standard/class/project value
   - updated manpage of sophomorix-class
   - Bugfix: sophomorix-class --quota standard 
     uses standard/project values of users in this class again
   - sophomorix-quota --force sets quota for users in passwd 
     (non-sophomorix users )
   - when logging an empty parameter, log '' in 
     /var/log/sophomorix/command.log
   - running upgrade scripts depending from which version we upgrade
     (like *.sql upgrade scripts)
   - made - signs usable in firstnames and surnames
   - creted latex-templates login-info.tex (language dependant)
   - created one side per user login card to show more info
     option --one-per-page
   - updated sophomorix-test 
   - made capital letters usable as firstname and Lastname

1.8.13-1  (2006-09-19)
   - for testing database upgrade only 

1.8.12-1  (2006-08-22)
   - removed 'DEBUG' messages from sophomorix-add
   - use absolute paths when calling scripts with 'system'
   - call log_script_end in all scripts
   - created function log_script_end
   - make every project begin with p_ (name and longname identical)
   - make every project have 3-14 characters after p_
   

1.8.11-1  (2006-08-19)
   - sophomorix-quota
     ignore quota for teachers in quota.txt and mailquota.txt
     throw warning, continue script
   - updated manpage of sophomorix-teach-in
   - sophomorix-teach-in:
     if identifiers in option --teach-in are given more than once, they are ignored
     and a next:: line is printed for further processing with schulkonsole
     if login is given in --ignore AND --teach-in the login is ignored 
     and a next:: line is printed for further processing with schulkonsole
   - sophomorix-quota: 
     - setting quota for sysusers
     - catch errors, when user in quota.txt/mailquota.txt does not exist
   - sophomorix.conf: made all variables use "yes/no" instead of "ja/nein"
   - added sophomorix.conf to packaging in config-templates
     (will be used by schulkonsole)
   - Bugfix: typos in sophomorix.conf
   - Bugfix: sophomorix --reset-user did not reset workstations 
   - added more users to forbidden_logins, a list of logins not to create 
     when adding users
       /etc/passwd
       /etc/group
       existing logins in database
       existing groups in datadase
       manual list in sophomorix-devel.conf


1.8.10-1  (2006-08-09)
   - removed all disturbing calls via C-Library and ldap.
   - allow also vorname_nachname for mail aliases in sophomorix.conf
   - moved connecting info to higher loglevel
   - hide password when connecting to imap
   - mocked up display of mailboxes
   - removed variables for vorname_nachname_tausch in sophomorix.conf

1.8.9-1  (2006-08-06)
   - Bugfix:
     manage groups in projects and projects in projects only with members
     (not admins)
   - code cleanup in sophomorix-check:
     - dont check anymore the order of firstname/lastname
     - use filter script instead
   - create variable in sophomorix.conf to create a pre filter script
     - checked this, added appropriate exits and messages
   - Bugfix:
       delete users of membergroups of a project only when
       they are not member via another project
   - Bugfix:
       delete users of memberprojects of a project only when
       they are not member via another project or adminclass(membergroup)
   - Bugfix: when admin is removed from a project with 
      sophomorix-project --removeadmin ...
      remove it also as a user
   - added option: sophomorix-teach-in --all (show all)
   - removed from Conf: @quota_kommentar = ("Test", "Daten", "");
   - Bugfixes in htaccess-templates
   - added cronjobs to package sophomorix-base with dh_installcron 
   - updated manpage sophomorix-mail
   - when imap.secret is not there, no configuration is made  
   - made the connect function read the password from /etc/imap.secret
   - added option --showmailboxes to sophomorix-mail, which shows an overview 
     of all mailboxes
   - replaced call for cyrus-user.pl with this functions in
     sophomorix-add 
     sophomorix-kill 
     sophomorix-quota 
   - added functions to SophomorixBase.pm to manage an imap server
     (connect, add/delete mailboxes, show/set quota, show list)
   - added option --project name to
      sophomorix-quota
      sophomorix-passwd
      sohpmorix-vampire
     (and updated the manpage)
   - speed up sophomorix-quota call in
      sophomorix-class
      sophomorix-project
      sophomorix-add
      sophomorix-move
   - speed up sophomorix-quota when fetching login_type:
     (connect just once to the database for every user)
   - added option sophpomorix-print --info to print to standard out 
   - added option --teach-in login::identifier to sophomorix-teach-in


1.8.8-1  (2006-07-18)
   - repair.directories: make /var/www/people 
     globally usable/unusable
   - Bug: sophomorix-teacher -i --teacher xxx does not
          show admiclasses of teachers
   - avoid resetting other users than students/teachers with
     sophomorix-user --reset user user
   - allow 3777/0700 in /home/share/school (repair.directories)
   - Bugfix: quota was set to class_mail_quota, 
             because 'empty' quota (-1) was accidentally used
   - directory where www-data can load files via webdavs:
       made them  www-data.www-data 0755
   - new working options in sophomorix-teacher:
        --showclasses
        --showteachers
   - group wwwadmin is singular
   - updated formatting of console output
   - changed ids according to administratoren.txt
   - updated help and manpage of sophomorix-teacher:
     --showclasses, --showteachers


1.8.7-1  (2006-07-15)
   - updated man page of sophomorix-quota
   - Bugfix /var/log/sophomomorix is 0700
   - Bug closed: sophomorix-taecher --collect does nothing
   - Bugfix: __einsammeln not writeable


1.8.6-1  (2006-07-12)
   - fixed som permission stuff
   - fixed mailquota issue (modifying quota on an nonexisting account)
   - sophomorix-repair: new option to repair
     .htaccess files in /var/www/people
   - sophomorix-www: show help when options are missing


1.8.5-1  (2006-07-11)
   - adding /var/log/sophomorix with root.root 700 to package
   - Bugfix: allow sophomorix-class activate mailaliases (and maillists)
     for the group teachers (type teacher)
   - removed schulweit_tauschen variable in sophomorix.conf
     and SophomorixTest.pm
   - missing function loading added in sophomorix-www
   - typo in sophomorix.conf removed


1.8.4-1  (2006-07-08)
   - removed package sophomorix-sys-pgldap (not needed anymore)
   - code cleanup:
       replaced update_gecos function
       removed all calls to functions in SophomorixSYSPgldap
   - sophomorix-print: 
       - made latexing standard (instead of pdflatexing)
       - removed class check (nonexisting class shows empty printout)
       - added option --pdflatex
   - added a logrotate config file to package sophomorix-base to
     log command.log
   - Bugfix: /var/cache/sophomorix not created
   - added basic logging (date-time::start::script) to all scripts
   - added function to read /etc/linuxmustser/classrooms
     (1 room per line)
   - adding a user with sambapwmustchange:
     set sambapwdmustchange=0 			password must be changed on login
     set sambapwdmustchange=24...(magic number) 
     (see: smbldap-useradd -B 1 user)
   - catched error when colling sophomorix-quota with nonexisting lehrer.txt
   - moved all tasks to /var/cache/sophomorix
   - new sophomorix-teach-in options and updated manpage:
     --next n
     --ignored-users
     --ignore user1,user2,...
   - sophomorix-teach-in reads sophomorix.teach-in.ignored and does not 
     ask about these users anymore (when running *-teach-in multiple times) 
   - sophomorix-teach-in creates .../check_results/sophomorix.teach-in.ignored
     for users that are not teached in and therefore ignored
   - Bugfix: sophomorix-teach-in removes 
             user from sophomorix.add when this user is 
             teached in (new user connected to old system user)  
   - Bugfix: owner,permissions of collect_dir


1.8.2-1  (2006-07-03)
   - changed the test for __einsammeln only
   - removed all subdirs from __einsammeln when creating/resetting a user
   - Bugfix: 
     sophomorix-teacher --teacher xxx --handoutcopy 
         --users user1,2,... --fromclass class
     does work now (also: --fromproject project)


1.8.1-1  (2006-06-25)
   - updated all scripts to common options 
     (i.e. users instead of loginname, ...)
   - setting mailquota in the database works (cannot check with cyrus)
   - sophomorix-quota: withaut options use all users 
   - sophomorix-add, ... : call "sophomorix-quota --students --teachers" 
     to skip other users (Workstation) and gain speed
   - sophomorix-quota: option --teachers works
   - BUGFIX: create_userlist in SophomorixAPI.pm 
   - get_ml_users --> fetchusers_sophomorix
   - use function to determin login_type in sophomorix-quota
   - moved path to cyrus.pl to DevelConf
   - added correct path to cyrus.pl (tschmitt)
   - added administrators to users for which quota is set
   - removed hardcoded stuff for admin from quota:
     new administrators are in postgres/ldap (no extrawork needed) 
   - changed --h output of sophomorix-passwd
   - added function to set some files to root.root 0600
      - use it for configfiles with password in sophomorix-setup-pgldap
   - renamed unused functions in SophomorixBase
   - remove dachboden, speicher from fetchadminclasses_from_school
   - removed rest of old kernel_update stuff


1.8.0-1  (2006-06-18)
   - romoved bugs from sophomorix-test-bunchofusers
     --handout
     --handoutcopy
     --collect
   - updated sophomorix-project manpage
   - option sophmorix-project --tree (overview of project memberships)
   - all sophomorix-www options addXxxxYyyy are 
     calling XxxxYyyy to avoid doule code 
   - manpage sophomorix-www updated
   - creating a .htacces file for project/adminclass, when user/class/project
     is added, and file doesn't exist
   - sophomorix-www: options group-public/private-no/upload now working
   - setting correct owner and permissions when creating/modifying 
     .htaccess files
   - renamed sophomorix-www options student-*-'* to user-*-*
     (they also work for teachers now)
   - when adding a student: student-private-noupload is set to
     /var/www/people/students/user/.htaccess
   - sophomorix-www: options student-public/private-no/upload now working
   - replaced Administrator with administrator in
       - htaccess-files
       - repair.directories
   - created option --student-public-upload in sophomorix-www 
     as an example function
   - /var/www/people/students/$user is deleted when user is killed
   - /var/www/people/students/$user is deleted when user is killed
   - updated manpage of sophomorix-project 
   - added nonworking script sophomorix-www with manpage to package
   - dropped classes subdir (www-dir of a user shouldn't change, when 
     moving her to another class)
        /var/www/people/students/klasse/student
        ---> /var/www/people/students/student
   - new options in sophomorix-project (accepting lists)
       --addmembergroups
       --removemembergroups
       --addmemberproject
       --removememberproject
       --addadmins 
       --removeadmins
       --addmembers
       --removeadmins 
   - sophomorix-print: allow _ in schoolname
   - Bugfix: prefix strings not created with sophomorix-repair
   - removed buggy field from database (memebdata or so)
   - renamed account Administrator to administrator
     (Problems with uppercase) 


1.7.4-1  (2006-05-21)
   - renamed $handoutcopy_string to $to_handoutcopy_string
   - removed $HOME/windows from tests
   - Tests in sophomorix-test-bunchofusers are all working again
   - collecting distributung data to klassenarbeit instead of aktueller_raum
   - collecting Data from workstationlist, userlist
   - Bugfix: current_room is missing in $handout/workstations

1.7.3-1  (2006-05-16)
   - added handout type room
   - Bugfix: pg_get_grpup_type works for workstations
   - Bugfix: sophomorix-test-bucnchofusers throws error
     reason: sophomorix-user --reset-user didn'd used longnames
   - new smb.conf from linuxmuster-base, Revision 24
   - fetch serverip and internmask from debconf
   - $HOME/public_html --> $HOME/private_html
   - sophomorix-print works for classes (nothing changed)
   - new htaccess files:
       Naming convention of the files:
          public:    available in the www
          private:   not available
          upload:    student can upload
          noupload:  member of teachers or administrators can upload 
          Teachers
             1. teacher-public-upload
             2. teacher-private-upload
          Students or groups(with another template)
             1. student-private-noupload
             2. student-private-upload
             3. student-public-noupload
             4. student-public-upload
          (1. to 4. with group instaead of student)


1.7.2-1  (2006-05-11)
   - sophomorix-user: new option --empty-password when resetting account
   - Bugfix: use short_name of project, when long_name is empty
   - shortend printout when sed-ing a file
   - sophomorix-repair (go to help, when -p is forgotten
     and --command-number is given)
   - removed sophomorix-samba from package
   - BUGFIX: sophomorix-teacher --teacher xsd -i  
       (Error, when user nonexistent)
   - added basic support for netlogon scripts
   - sophomorix-devel.conf is in english now and cleaned up
   - added @@message3@@ to all scripts
   - replaced @@basename@@ with @@basedn@@ in all config files and scripts
   - killing a project removes /var/www/people/projects/$PROJECT
   - adding a user creates a dir in /var/www/people/[teachers|students]
   - added /var/www/people/[teachers/students/projects]
   - added .htaccess file in each teachers/students public_html
      -- owner is www-data.www-data
      -- permissions are 0400
   - added $HOME/public_html apache templates to debian package
   - Bugfix: fetchadminclasses_from_school displayed group of teachers
   - $HOME/cups-pdf  user:teachers 0700
   - Dir to collect data changed to:
      - $teacher-$datewithtime_$klasse
   - nscd start/stop in
      - sophomorix-add
   - Changed Permissions of $HOME
   - Changed directory structure:
      - remove $HOME/www/public_html
      - use $HOME/public_html
      - add $HOME/cups-pdf  user:teachers 0700 (students and teachers)
   - Bugfix: add Administrator with shell /bin/bash
   - Bugfix: fetchdata_from_account shows wrong account-type for workstations 
   - CODE Cleanup:
      - everywhere where homedir was fetched by getpwnam:
        replaced it with fetchdata_from_account
      - SophomorixBase:
      - removed function get_ka_raeume_in_schule
      - removed function check_raum
      - removed function get_raeume_in_schule_hash
      - removed function get_lehrer_in_klasse
      - removed function check_leher
      - removed function get_klasse_von_login 
      - removed function formatiere_liste
      - removed function user_links
   - removed unneeded testscripts and their manpages from
     the package sophomorix-developer 
   - added CVS-Id-Keyword to all relevant files 
   - removed 3 unneeded variables from sophomorix-devel.conf
   - removed loading SophomorixPgLdap or SophomorixFiles 
     --> load always Sophomorix-Pgldap
   - dropped dependency from package: sophomorix-sys-files not needed anymore



1.7.1-1  (2006-04-19)
   - All tests for handout/collect/tasks are working (Werkvertrag 4) 
   - Bugfix: create_share_link does not create links into subclasses
   - moved prints to higher log_level when resetting a user 
   - create task links for workstation users
   - fixed function pg_get_group_list:
     returned primary group double
   - Fixed Bugs: two lines in repair.directories were not replaced 
     correctly from sopomorix-repair
   - removed option --www from sophomorix-repair (was deprecated)
   - added option --command-number in sophomorix-repair
     (allows to specify only one command (= line in repair.directories)
      to be executed)
     commands can be shown with option -i
   - replaced the following getpw*-calls (via ldap) in SophomorixAPI 
     with postgres databse queries:
        get_rooms_school
        get_workstations_school
        get_workstations_room
     (only get_ml_users is left)  
   - made sophomorix-user --reset-user work with workstation users
   - pg_get_group_type knows type 'room' and type 'administrator'
   - sophomorix-test-bunchofusers: adds/removes workstationaccounts
   - Fixed Bug: teacher: in _vorlagen is 'aktueller raum'
   - sophomorix-user --reset-user user1,user2,...
     cleans up a users homedirectory (deletes data and creates new dirs)  
   - changed type "class" to "adminclass" throughout all scripte
   - added create_share_directory to all calls to create_share_link
   - sophomorix-teacher --teacher xx --users user1,usre2,... \ 
     --fromroom --handoutcopy
   works and ist tested


1.6.1-1  (2006-04-05)
   - dont create /var/lib/sophomorix/database anymore (tested)
   - renamed link managing dir from _austeilen to _vorlagen
        _austeilen contains directories
        _vorlagen contains links
   - When creating a user:
     create $HOME_LEHRER/_einsammeln/aktueller_raum
     create $HOME_LEHRER/_einsammeln/klassenarbeit
     create $HOME_LEHRER/_bereitstellen/klassenarbeit
     create $HOME_LEHRER/_austeilen/aktueller_raum
     create $HOME_LEHRER/_verteilt
   - added parameters for sophomorix-teacher:
      --shares|--noshares
      --userlist
     to set shares to access/no access  
   - view memberdata: 
   - SQL-View memberdata:
        order is OK 
        project_details.longname is also shown
   - sophomorix-setup-pgldap reuses paswords for rootdn and dbpasswd
     if it can find a passwdord
   - made sophomorix.sql install the database as a transaction
     (if an error ocurs, create no database entries at all) 
   - modified sophomorix-test to test correctly
   - modified manpage of sophomorix-subclass
   - sophomorix-subclasses
         needs --split to actually split a class
         otherwise -h is assumed
   - removed creation of projects_db from sophomorix-projects
   - removed - from code and put it into the language files
     (possibility to use empty string as prefix)
     - modified sophomorix-test-bunchofusers to test that
   - created new user directory _bereitstellen (only teachers)
     - create dirs to handout data herein
     - modified sophomorix-test-bunchofusers to test that
   - removed dbname and dbpasswd from odbc.ini 

1.6.0-1  (2006-03-28)
   - removed displayname from
   - changed repair.directories from admin.admin 
     to Administrator.domadmins  ...
   - create dir /home/administrators for all (3) admins 
   - don't create admin anymore
   - crete group teachers in ldap
   - added user Administrator to printoperators
   - sophhomorix-repair works a bit
   - created functions for sophomorix-repair 
   - add groups in sophomrix-setup-pgldap only when necessary
   - generate a random password for postgres access of slapd
   - Bugfix: handout to subclasses is without errors in 
     sophomorix-test-bunchofusers 
   - when joining a class, 
       make sure to join subclasses and 
       create directories for subclasses
   - if a class is split, add teachers to all subclasses which have users
   - adding a directory to handout data (_vorlagen/projectlongname) added when 
     admin jons a project
   - view memberdata:
       Bugfix: shows sophomorixstatus
       Bugfix: adminclass shows gid insead of gidnumber
       Sorted by gid
   - added user Administrator to group administrators (win: Administrators)
   - added user pgmadmin in ldap
   - replaced get_students_school with fetchstudents_from_school
   - new function get_students_from_school
   - prepared new functions to fill out:
      show_class_teacher_list
      show_teacher_class_list
   - Bugfix: make sophomorix work with empty classes, projects
   - sophomorix-teacher
     when generating mailinglists of adminclasses, add teachers which 
     have added themselves to these classes 
   - SQL-View classdata:
      - show only entries from class_details
   - sophomorix-teacher calls sophomorix-mail,
     when adding or removing a teacher to an andminclass
   - renamed sophomorix-split to sophomorix-subclass
      - script
      - man pages
   - removed provide_my_class_file (provided .sophomorix/...)
   - removed get_my_adminclasses from sophomorixAPI.pm
   - made sophomorix-teacher --add --remove 
        more forgiving, when adding to a class again and again
   - Bugfix: dont add to class_details, when adding a project
   - new table for teachers in adminclasses: classes_admins
     (replaces $HOME/.sophomorix/MyAdminClasses)
   - sophomorix-test-bunchof-users
       --add: adds some projects
       --delete:  removes the projects
   - updated manpage *-teacher *-project
   - created option to remove a project completly 
     (sophomorix-project --kill)
   - create directories for project admins to handout and collect data
   - rewrote some stuff to collect/handout to projects
     (still not finished) 
   - added options 
        --collect
        --collectcopy
        --handout 
     to sophomorix-teacher
   - added test to sophomorix-test-bunchofusers:
     - vorlagen bereitstellen
     - einsammeln 
   - option --work in sophomorix-test-bunchofusers to test:
       - distribute Files


1.5.8-1 (2006-03-14)
   - added /home/tasks/teachers 
   - sophomorix-class calls sophomorix-mail and
     sophomorix-quota when needed
   - sophomorix-project calls sophomorix-mail and
     sophomorix-quota when needed
   - add longname of project to maillist in sophomorix-mail
   - when teacher self-joins a adminclass:
      - add her to the group
      - create links in share, tasks
   - when creating a user, add links in tasks
   - removed function user_links and replaced it with
     create_share_link
     remove_share_link
   - sophomorix-mail adds mailalias and maillist to projects
   - added calls to sophomorix-quota/-mail to
      sophomorix-add
      sophomorix-move
      sophomorix-kill 
   - added manpage to sophomorix-mail
   - sophomorix-class:
       - edit mailaliases and maillist
   - sophomorix-mail:
       - added script itself
       - adds to /etc/aliases
       - mailaliases and maillist
       - updated documentation 
   - Database: added mailalias and maillist to class_details
   - sophomorix-split: show user number in groups when -i
   - sophomorix-split: interrupt when -c class
     is not existing and an adminclass
   - sophomorix-split: added option 0members user1,user2,...
     (Removes user1,user2,... from all subclasses)
   - sophomorix-spilt creates links into subclass share dir
   - order classes,projects alphabetically when displaying
   - condensed output of sophomorix-quota
      - show only users wich quota is changed
      - counting users corrected
   - condensed output of sophomorix-add 
      - printout messages only when users are added
      - setting quota only if users are added
   - removed sophomorix-usearadd
            sophomorix-groupadd from Package
   - sophomorix-setup-pgldap checks if database exists and 
     connection is possible (should be left out)
   - modified manpage of sophomorix-class
   - mailquota    0=unlimited   -1=unused
     quota        0=unlimited   'quota'= unused
   - modify class quota and mailquota with sophomorix-class
     (remove quota with empty string )
   - updating mailquota in database works
   - added field mailquota to lehrer.txt
   - added mailquota.txt
   - database-upgrade seems working
   - added parameters to sophomorix-setup-pgldap --oldversion, --newversion
     call them correctly from the sophomorix-pgldap.postist file
   - makefile installs all *.sql upgrade files and the debian
     package installs them in the sophomorix-pgldap package
   - sophomorix-setup-pgldap can list files to upgrade in correct order
   - function  manual_delete_groups (deletes a group altogether from the database)


1.5.0-1 (2006-02-23)
   - speeded up function login_type in sophomorix-quota using SQL
     instead of getent
   - added field mailquota to class_details
   - showing new version in sophomorix-pgldap.postinst works
   - formatting s*-project -i modified for 
   - quota is working now
   - checked output from sophomorix-quota in different loglevels
   - s-quota: show quota of project works with pgldap
   - Bugfix: store 2000+200 in AddQuota as a String instead of calculating 2200 
   - adding clients local wingroups with type=local and SID=S-1-5-32-*
   - removed options smbroot in sophomorix-add
   - allow only a-zA-Z0-9_- as LongName/name of project  
   - Linkname to project is Longname of project
   - all members Linkname is updated, when the LongName of a project
     is changed
   - formatting of s*-project -i changed     
   - SQL-View projectdata:
      - shows only entries from project_details

1.4.9-1 (2006-02-16)
   - recreating links when moving a user
   - adding links to the share directories of all projects
   - adding a user (sophomorix-add) puts them in all groups
     its adminclass is a member
   - if nonsense is given as MemberGroups or MemberProjects, show errors
   - sorting usernames when displaying info
   - adding groups to projects
   - new options to sophomorix-project
          --joinable
          --notjoinable
   - new field for projects: joinable (true/false): can a teacher join or not
   - groups_groups is NOT working (THO)
     groups_groups -> project_groups (only to store data)

1.4.8-1 (2006-02-12)
   - insert MemberGroups (primary) into groups_groups
     (Table looks ok, but seems not to be working)
   - using creationdate and sophomorixstatus when adding a project
   - added option sophomorix -i -p project, displays info
     about project
   - remove create_project_db and oldstuff
   - unified create_project and create_project_db
   - added AddMailQuota to project_details
   - moved create_project to SophomorixPgLdap.pm
   - new functions fetch/add/deleteproject_from_project
     which fetch/add/remove MemberProjects from/to table project_membergroups
   - renamed project_groups to project_memberprojects
   - updated manpage of sophomorix-project (--Memberprojects)
   - created Option --MemberProjects (s*-project), does nothing so far
   - remove fields for members, teachers, ... in project_details  
   - when killing a user, delete the user from 
     - secondary group memberships
     - project admin membership
   - handle it to keep users, admins, when --Members are not given
   - Bugfix:uninitialized value: when removing an admin from a project
   - change option --Teachers to admin, change manpage, change help, 
     and variable names
   - renamed memberuid to memberuidnumber
   - added stuff to ad a user as admin into a project
   - added stuff to sophomorix-project to add,change,modify users 
     (--Members name) to a project, i.e. insert/modify/delete 
     the user into groups_users.
     - do nothing in the database and throw an error  if a 
       nonexisting username is given 
   - counting students,teachers,and others when using sophomorix-user -i
   - smbpasswd -w password in sophomorix-setup-pgldap
     - creates random rootdn password
     - or user password given with option ldappw
     (the ldap password is not stored in debconf anymore)
   - added field mailquota
   - added table projects_groups
   - added table projects_admins
   - Windows user Administrator added
   - Windows groupnames without blanks:
     unix-group: non capital letters
     Windows             Linux       unix-id
     ==================================================
     domain:
       Domain Admins       domadmins    gid 512
       Domain Users        domusers     gid 513
       Domain Guests       domguests
       Domain Computers    
       ...
     - this is working now. 
         possibility of user.map-datei refered in smb.conf was dropped
   - sophomorix sees all accounts with NULL sophomorixstatus as
     permanent accounts (i.e. all users added by smbldaptools, ...)


1.4.7-1 (2006-01-29)
   - add users with smbldaptools
   - sophomorix-check treats smbldaptools users as permanent users
   - sophomorix-quota, sophomorix-users throw no errors when 
     empty database-fields are discovered
   - domadmins (unix group)  -> 'Domain Admins' (ntgroup) and others

1.4.6-5 (2006-01-26)

   - added script sophomorix-groupadd to add groups
     - added option to faorce gid
     - limit gid to minimum 200
     - dont ad group if groupname or gidnumber exists alredy  
   - Group "Domain Admins" is created, and gidnumber must be 512


1.4.6 (2005-12-10)

   "Netbios Domain Administrator" is smbroot for now 
    (will probably change to admin)
   
   - sophomorix-add
          - smbroot cannot be created twice 
          - smbroot cannot be created with wrong uidnumber
   - added dependencies in the debian packages to take care that
     sophomorix.conf is installed before sophomorix-setup-pgldap is run
   - put back code into sophomorix-check that converted 1 -> 01 in
     the date. code was accidentally removed when adding 
     date checking with Date::Calc
   - limit rm -rf dir to paths beginning with /home/ when killing users
   - added options smbroot,password to sophomorix-add manpage 
   - Bugfix: loginShell not displayed
   - sophomorix-user displays samba stuff
   - don't show output uid=--- gid=--- in sophomorix-add when 
        uid,gid is not forced from the sophomorix-add file.
   - Differ empty date / year unrealistic / date nonexisting 
     in stdout description and report.office
   - check birthdate for existence with debian package libdate-calc-perl :
       use Date::Calc;
       check_date($year,$month,$day);
     since postgres allows only existing days
   - fixed sophomorix-test to use regex to verify first part (day) 
     of creationdate timestamp
   - added entries in pg_hba.conf
   - checked that: 
     a root script can connect to the database, because it has access 
     via pg_hba.conf and pg_ident.conf

1.4.5-4 (2005-11-29)
   This is the Version tested at the lmz on 2005-11-29    

   - make creationdate a timestamp (datatype: timestamp without time zone)
      like: 2005-11-23 09:44:52.641214
   - adding projects to the database seems to work now
   - modified database for the use of projects
   - dn is updated in the database for existing objects when 
       calling sophomorix-setup-pgldap
   - function show_project_list modified for pgldap



1.4.5 (2005-11-16)

   - Bug: ids (like 10007) in gid (where names are) -> fixed
   - Bugfix: fetch classlist: new function using pg 
   - added replacements for pgldap for:
           groupadd -> create_class_db_entry with second parameter 1 (add subclass)
           adduser  -> pg_adduser
   -  replaced get_group_list (use id) with faster pg_get_group_list(query database)
   - speeded up sophomorix-kill -i accessing pg instead of using id
   - checked that: when killing a user, remove all secondary group memberships
   - show_class_list is deprecated in SophomorixPgLdap.pm
   - function login-type in sophomorix-quota modified for new group-names

   - added options to sophomorix-setup-pgldap: 
           --keep-database 
           --new-database (drops the database and creates an new empty one)
   - added function that exits from script when postgres or
     slapd are not available 
   - view projectdata added

   - view classdata added and checked
   - sophomorix-class displays adminclasses correctly
   - sophomorix-quota
            - is setting quota for admin account on each run correctly
            - does NOT update the database for admin data (admin is in files)


1.4.4 (2005-10-26)
   - package 1.4.4-4 is working on an empty debian system
     (postgres, slapd and samba freshly installed)
   - smbpasswd -w server is setting ldap-password in sophomorix-setup-pgldap
   - modified sophomorix-setup-pgldap to modify
     pg_hba.conf and pg_ident.conf
   - adding a test function to check 
       - if group membership is exactly correct
       - if the collection of links to the exchange directories is correct
   - adding first tests to test directory stucture of a user
     (windows, share, collect, and task)
   - Bugfix in SophomorixBase.pm: using loginname in setup_verzeichnis
     only, when $schueler/$lehrer/$workstation in given in sophomorix.repair 
   - added again info about group in sophomorix-user -s name
   - done a lot in sophomorix quota. sets quota again 
   - uncommented 'checking is user is in system' in sophomorix-user  
   - sophomorix-passwd seems to work now (setting a password of a user)
   - function:  check_sophomorix_user (should work with postgres now)
   - function: backup_user_database (does nothing now)
   - Bugfix: sophomorix-user shows stange errors when webmin is not installed
   - sophomorix-user -s -> search in multiple fields, without doubling
   - get_first_password uses postgres now
   - disable/enable unix-account of a user 
     (append ! to encrypted password/remove ! from encrypted password)
     smbpasswd -e/-d works, use it in scripts.
   - added samba tests
   - /etc/nsswitch.conf: compat ldap for quick logins, when sldap is down
   - checked that bdb package is not needed
   - sophomorix-move: update samba stuff in all relevant places
   - added samba fields for a working login
   - install DB_CONFIG into system, cp at setup to /var/lib/ldap
   - added tests for the correct homedirectory in sophomorix-test 
   - reformatted sophomorix-test output
   - replaced  usermod in sophomorix-move with appropriate stuff, 
     when using pgldap 
   - fixed Bug move old home to new home
   - removed errors from sophomorix-test
   - function update_user_db_entry extended to "Gid=groupname"
   - update gid when moving a user
   - create groups when adding users an group doesn't exist
   - created a salted, crypted userpassword for linux
     (checked that linux login works)
   - linux_gruppe_to_kill in sophomorix-kill is now working
   - checked that View userdata shows gid from primary group
   - moved set_sophomorix-passwd  from SophomorixBase nach Files and Ldap modules
   - wrote new function set_sophomorix-passwd for postgres 
   - print sql commands on console only in logleve 3 (-vv)
   - added a teacher to sophomorix-test
   - sophomorix-test leaves database without modifications (still to test)
   - sophomorix-kill removes users (not homedir)
   - function to killl a user in database and pgldap-module
   - test for Bugfixes:
      - update unid at once, when user reappears with unid
      - delete unid, when user disappears in files or unid is empty   
   - added creation af passwords, still to check, if they work
   - added principal support for samba_sam_account table (fields still empty)
   - delete unid from sys, when entry in files is present, but
     has an empty unid field (test added) 
   - deactivationdate and reactivationdate are emptied
     when not used (NULL)
   - sophomorix-teach-in rewritten to use postgresql
         function get_tech_in-sys-users in SophomorixPgLdap.pm
   - sophomorix-test rewritten to use postgresql
     (130 Tests are OK)
   - sophomorix-add add unid at once, if existent in schueler.txt
   - Replaced/New functions in SophomorixPgLdap.pm
      - connect and disconnect to database
      - create user
      - update user
      - get_sys_users
      - get_print_data
   - use postgresql database instead of files
   - added get_debconf_value to read from the debconf database
   - create packages sophomorix-pgldap and sophomorix-sys-pgldap
   - use module pgldap, when it is set in sophomorix.conf 

   - when a wish-login in lehrer.txt/schueler.txt is given multiple times:
      -> none of the users will be added
      -> error-message 
      -> report.admin entry is created 


1.2.1 (2005-04-08)
   - The following module-names are shown to students,teachers,admin: 
       ml_account  : Benutzerkonto     (alle students)
       ml_teacher  : Unterricht        (all teachers)
       ml_admin    : Administration    (all admins)
   - changed groupname teacher to teachers and /home/reachers
   - changed groupname student to students and /home/students
   - /home/pupil/ -> /home/students 
   - when a user is killed, 
       - move its line(s) from user-modify.log to user-modify-archive.log
          (speed up lookups in user-modify.log)
       - add a kill-entry to the archive to know when a user was killed.
   - history in archive is not sorted according date, it is sorted according users
     (is this fine?)
   - SophomorixBase.pm renamed: append_auto_teach_in_log --> append_teach_in_log
   - sophomorix-user -s string:
     information about webmin-account is displayed 
     (miniserv.users and webmin.acl)
   - sophomorix-add/-kill  call sophomorix-webmin to rewrite the webmin 
     user database (webmin.acl, miniserv.users) 
   - sophomorix-webmin --modules 
     (creates a list of all students/teachers and adds modules from 
      /usr/share/sophomorix/webmin/... to the users) 
   - new option for sophomorix-webmin:
       --loghost 0 / --loghost 1
     (0 makes webmin faster, if DNS is not working)
   - renamed "lehrer" to $DevelConf::teacher (50 times!)
     (seems to work so far)
   - created new file in tmp to pre-filter lehrer.txt:
      /var/lib/sophomorix/tmp/lehrer.txt.tmp
     in wich the grpname lehrer of lehrer.txt is converted to teacher     
   - renamed some files in checkresult:
      user.imsystem        --> sophomorix.system
      report.sekretariat   --> report.office
      report.gesperrt      --> report.filter
      klasse.schuelerzahl  --> AdminClass.students
      extrakurse.schueler  --> extrakurse.students
      schueler.txt.tausch  --> schueler.txt.tmp
   - sophomorix-teacher: --collect added (it worked once)
   - sophomorix-teacher: --handout added (still alpha)
   - no-restart option in sophomorix-webmin added
   - removed option --klassenintern in sophomorix-move 
   - add a user to miniserv.user, when she is added/deleted
   - add/remove a user to webmin.acl when she is added/deleted
   - add a user to webmin.groups when she is created 
     (students and teachers) or when she was created long ago
   - create new users with quota(checked)
   - made sophomorix.conf and sophomorix-devel.conf readable
     for script sophomorix-teacher
   - made tests in sophomorix-developer use the language files as well
   - documented synopsis of SophomorixAPI.pm
   - added various words to the language files
   - creted in /usr/share/sophomorix/lang language files (perl)
   - made a module for configuratuion data SophomorixConfig
   - created function in SophpmorixAPI that returns projects all 
     projects
   - created function in SophpmorixAPI that returns classes that 
     have subclasses
   - sophomorix-split 
     (when classes are split, create tasks and share dirs)
   - moved /home/share/tasks stuff to /home/tasks
     (consistent directory naming)
   - make sophomorix-setup-files create subclass_db
   - updated html-Documentation (some stuff is still missing)
   - sopho-man2html:
       - moved manpages of section 1 to a different directory 
         in the html-documentation
       - included man sophomorix-teacher in the package


1.2.0 (2005-03-09)
   - fixed bugs in sophomorix-test-extra 
   - sophomorix-webmin: added option --auto-logout
   - fixed sopho-man2html: 
         - use man pages of sophomorix-vampire
         - use manpages of scripts with multiple - in their names
   - SophomorixAPI
     - funktion zum schreiben der eingetragenen klassen
     - dito zum lesen, ascibetisch
     - funktion get_all_admin_classes (liest class_db aus)
   - sophomorix-teacher: first release
     adding, removing class from MyAdminClasses
   - sophomorix-webmin: make webmin accessable for every workstation
     /etc/webmin/miniserv.conf
       --all-hosts     
       --localhost     
   - sophomorix-vampire
     - workaround with numerical group id not needed anymore:
        every user and every group gets a new numerical id
     - pushing a vampire key to tho old server works
     - fetching a list of files works
     - adding users works
     - rsync homes works
   - sophomorix-check
     added option --use-uid
     added option --use-gid
     if you want to use the same numerical ids together with 
     --get-info-from-old-files
   - sophomorix-quota
     option --noninteractive added
   - first uncomplete sophomorix-vampire verion
     - distributed in package sophomorix-vampire
     - pushing a key and fetching files
   - Fixed Bug where sophomorix-print generated files in the directory 
     in wich it was called. This made the script abort without producing an error,
     when executed in a nfs mounted read-only filesystem.
   - sophomorix-user -s username
     added options zo the underlying quota command to
       - not show remote filesystems
       - show also unused filesystems
   - rename print-data 
        hinzu.*  -> add.* and others
   - made the database names comply with DBI (sql database table names 
     cannot have a point in them)
     i.e.  user.protokoll -> user_db
           projects.db    -> projects_db
           class.db       -> class_db
           subclasses     -> subclasses_db
   - made the directories under /var/lib/sophomorix international (names)
     i.e.:
      drucken   -> print-data
      pruefen   -> tmp  (because it is created on each run of sophomorix-check)
      dynconfig -> database
      ergebnis  -> check-result
   - added new script sophomorix-class and man page: 
      - -i shows all classes with info
      - --class classname --quota 200+20  sets the quota in database
   - function zeit_stempel: made easier(use ticks), instead of first 
                            writing to a tmp-file and rereading
   - renamed schulinfo.txt to class.db and moved it to the database files
     (renamed again later, see above)     
   - Bugfixes to sophomorix-project: 
         - Don't create links to root
         - Don't add root to unix-group of project
   - complete rewrite of sophomorix-quota to acommodate AddQuota of projects
     (option --sum still missing)
     Quotastring syntax simplified to gain speed:  i.e. 23+45
     (minus sign (-) or x is NOT SUPPORTED ANYMORE)
   - limit sophomorix-quota to (option names as in sophomotix-add) 
       - class(-c), 
       - login ...
       - room
       - ...
   - new function create_userlist($login,$class,$room, ...)
          function can be used in:
               - sophomorix-passwd
               - sophomorix-quota
   - replaced /home/schueler, ... with variables in sophomorix-quota
   - new command sophomorix-passwd (for root)
      - new passwords for all teacher, pupils
      - new password for classes, rooms
      - single users
   - moved all query function of sophomorix-repair to SophomorixAPI and 
     renaming them international
   - added a switch (--no-sync) in sophomorix-check to do/do not an auto-teach-in
   - replacement for sophomorix-teach-in finished
   - show login, admin-class and exit-admin-class when teaching-in
   - include/check new script sophomorix-repair
   - removed variable $samba_dir in repair.directories, ...(not used anymore)
   - The Filesystem under /home is controlled by variables in sophomorix-devel.conf
     repair.directories uses this variable to identify permissions
   - added a few directories under /home/samba
   - sophomorix-setup uses repair.directories to get permissions of directories
   - sophomorix-check with option get-info-from-old-files, that uses data from 
     a previous installation to add users with a former id, gid and login name.
   - option no-kclass disbles removing k from classnames in old group
1.1.6 (2005-01-21)
   - A lot of Bugfixes 

1.1.5 (2005-01-18)
   - First tagged release in the cvs




