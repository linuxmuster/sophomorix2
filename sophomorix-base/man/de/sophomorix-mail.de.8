.\"                                      Hey, EMACS: -*- nroff -*-
.\" First parameter, NAME, should be all caps
.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
.\" other parameters are allowed: see man(7), man(1)
.TH SOPHOMORIX-MAIL 8 "December 23, 2007"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME
sophomorix-mail \- Adding aliases and mailing lists to /etc/aliases
.SH SYNOPSIS
.B sophomorix-mail
.RI [ options ] 
.br
.SH DESCRIPTION
.B sophomorix-mail
.br
In /etc/aliases können zusätzliche Mailadressen eingetragen werden und an
welches Mail-Konto diese Mail weitergeleitet wird.
.TP 
Das kann genutzt werden, um:
   - Einem User eine weitere Empfangsadresse zu geben (mailalias)
   - Eine gemeinsame Mailadresse für eine Gruppe von Usern festzulegen (maillist) 
.TP
Sophomorix bietet an, das automatisch für Klassen und Projekte (später
subclasses) zu nutzen.
.TP
Dazu wird das entsprechende Merkmal (mailalias oder maillist) mit
   sophomorix-class    (für Klassen und Lehrer)
   sophomorix-project  (für Projekte)
   sophomorix-subclass (für Subklassen)
.TP
aktiviert oder deaktiviert.
.TP
Zusätzliche, externe Mailadressen können zu einer maillist hinzugenommen werden, indem eine Datei /etc/sophomorix/mail/<p_projectname> oder /etc/sophomorix/mail/<adminclass> angelegt wird. In diesen Dateien wird je 1 Mailadresse je Zeile aufgelistet (#-Kommentare sind erlaubt). 
.TP
Nach der Konfiguration wird sophomorix-mail aufgerufen, um diese Einstellungen ins System zu übertragen. Kommen später user dazu, oder werden user entfernt, so werden die maillists automatisch (durch Aufruf von sophomorix-mail) upgedated.
.TP
Wie ein Mailalias zusammengesetzt ist, wird in sophomorix.conf konfiguriert.
.PP
.SH OPTIONS
.B sophomorix-mail
benützt die GNU command line syntax, mit langen Optionen, die mit zwei
Bindestrichen (`-') beginnen:
.TP
.B -h, --help
Kurzübersicht über Optionen
.TP
.B -v, --verbose
Sagt, was das Programm gerade macht (verbose)
.TP
.B -vv, --verbose --verbose
Sagt ungeheuer genau, was das Programm gerade macht (very verbose)
.TP
.B -i , --info
Listet gruppen, für die mailinglisten (maillist) bzw. mailaliase
bestehen, ohne am System etwas zu ändern.
.TP
.B --skiplock
prüft nicht, ob die sophomorix lock-Datei existiert. Führt das Script
also auch dann aus, wenn andere sophomorix-Befehle gerade laufen. Sollte nur
benutzt werden, wenn man weiss, was man tut.
.PP
.SH IMAP OPTIONS
.TP
.B --showmailboxes
Fragt den IMAP server nach vorhandenen Mailboxen. Zeigt Mailboxname,
benutztes mailquota und nutzbares mailquota an.
.TP
.B --showtype/--showmailboxes
Gibt zusätzlich den Typ der Mailbox an. (CYRUS=nur in cyrus, kein
posix account). Diese Option verlangsamt die Ausgabe erheblich.
.TP
.B --showforward/--showredirect
Gibt die existierenden Mailweiterleitungen aller Lehrer aus. 
(.forward und ingo.script)
.TP
.B --showallforward/--showallredirect
Gibt die existierenden Mailweiterleitungen (.forward und ingo.script)
aller Lehrer und Schüler aus. Das dauert etwas.
.TP
.B --add-mailbox user1,user2,...
Legt eine IMAP mailbox an, falls für user1,user2,... ein posix account
existiert. (Für Reparaturzwecke).
.TP
.B --kill-mailbox user1,user2,...
Entfernt eine IMAP mailbox, falls KEIN posix account für
user1,user2,... existiert. (Für Reparaturzwecke).
.TP
.TP
.SH SEE ALSO
.BR sophomorix (8),
.BR sophomorix-teach-in (8),
.BR sophomorix-add (8),
.BR sophomorix-move (8),
.BR sophomorix-kill (8),
.BR sophomorix-print (8),
.BR sophomorix-user (8),
.BR sophomorix-subclass (8),
.BR sophomorix-project (8),
.\".BR baz (1).
.\".br
.\"You can see the full options of the Programs by calling for example 
.\".IR "sophomrix-add -h" ,
.
.SH AUTHOR
Written by <jeffbeck@web.de>.
